<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржЗржмрж╛ржжрждржХрж╛рж░рзАрж░ ржкрже: ржПржХржЯрж┐ ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Serenity -->
    <!-- Application Structure Plan: The SPA is a guided journey. New Gemini API features are added: 1. A 'Daily Reflection' section for AI-generated prompts. 2. A 'Personal Dua Generator' for AI-composed supplications based on user input. These additions enhance interactivity and personalization, deepening the user's spiritual engagement with the content. A mobile hamburger menu has been added for better navigation. -->
    <!-- Visualization & Content Choices: 1. Identity/Impact: HTML/CSS columns. 2. Crisis/Priorities: Chart.js charts. 3. Revival Path: Interactive HTML cards. 4. Daily Reflection: Button triggers Gemini API to fetch a question. Goal: Engage. 5. Dua Generator: Text input and button trigger Gemini API to generate a personalized dua. Goal: Personalize/Assist. All methods confirm to NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
            background-color: #FDF6E3; /* Warm Neutral Background */
            color: #586E75; /* Soft, warm grey-cyan text */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; 
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover {
            color: #268BD2; /* Accent Blue */
        }
        .active-link {
            color: #268BD2;
            border-bottom: 2px solid #268BD2;
        }
        .step-card {
            border: 2px solid transparent;
            transition: all 0.3s ease-in-out;
            cursor: pointer;
        }
        .step-card:hover {
            border-color: #859900; /* Accent Green */
            transform: translateY(-5px);
        }
        .step-card.active {
            border-color: #268BD2; /* Accent Blue */
            background-color: #FEFBF3;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #268BD2;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="text-xl font-bold text-[#268BD2]">ржЗржмрж╛ржжрждржХрж╛рж░рзАрж░ ржкрже</div>
                <div id="desktop-menu" class="hidden md:flex items-center space-x-6">
                    <a href="#identity" class="nav-link font-semibold pb-1">ржкрж░рж┐ржЪржпрж╝</a>
                    <a href="#crisis" class="nav-link font-semibold pb-1">рж╕ржВржХржЯ</a>
                    <a href="#revival" class="nav-link font-semibold pb-1">ржЙрждрзНрждрж░ржгрзЗрж░ ржкрже</a>
                    <a href="#reflection" class="nav-link font-semibold pb-1">ржкрзНрж░рждрж┐ржлрж▓ржи</a>
                    <a href="#dua" class="nav-link font-semibold pb-1">ржжрзЛрзЯрж╛</a>
                    <a href="#impact" class="nav-link font-semibold pb-1">ржкрзНрж░ржнрж╛ржм</a>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-[#002b36] focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="hidden md:hidden py-2">
                <a href="#identity" class="block nav-link text-center py-2">ржкрж░рж┐ржЪржпрж╝</a>
                <a href="#crisis" class="block nav-link text-center py-2">рж╕ржВржХржЯ</a>
                <a href="#revival" class="block nav-link text-center py-2">ржЙрждрзНрждрж░ржгрзЗрж░ ржкрже</a>
                <a href="#reflection" class="block nav-link text-center py-2">ржкрзНрж░рждрж┐ржлрж▓ржи</a>
                <a href="#dua" class="block nav-link text-center py-2">ржжрзЛрзЯрж╛</a>
                <a href="#impact" class="block nav-link text-center py-2">ржкрзНрж░ржнрж╛ржм</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section class="text-center py-12 md:py-20">
            <h1 class="text-4xl md:text-6xl font-bold text-[#002b36] mb-4">ржкрзНрж░ржХрзГржд ржЗржмрж╛ржжрждржХрж╛рж░рзА: ржЗрждрж┐рж╣рж╛рж╕рзЗрж░ ржирж┐рж░рзНржорж╛рждрж╛</h1>
            <p class="text-lg md:text-xl max-w-3xl mx-auto text-[#657b83]">рждрж╛рж░рж╛ ржжрзБржирж┐ржпрж╝рж╛рж░ ржЪрж╛ржХржЪрж┐ржХрзНржп ржерзЗржХрзЗ ржорзБржЦ ржлрж┐рж░рж┐ржпрж╝рзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржнржпрж╝рзЗ ржнрзАржд ржПржмржВ ржЗржмрж╛ржжрждрзЗ ржХржарзЛрж░ ржкрж░рж┐рж╢рзНрж░ржорзАред ржПржЗ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ рждрж╛ржжрзЗрж░ ржкрж░рж┐ржЪржпрж╝, рж╕ржВржХржЯ ржПржмржВ ржЙрждрзНрждрж░ржгрзЗрж░ ржкрже ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзЗред</p>
        </section>

        <!-- ржкрж░рж┐ржЪржпрж╝ Section -->
        <section id="identity" class="py-12 md:py-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 text-[#002b36]">ржЖрждрзНржо-ржкрж░рж┐ржЪржпрж╝: ржжрзБржЯрж┐ ржнрж┐ржирзНржи ржкрже</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-[#FEFBF3] p-6 rounded-lg shadow-md border-t-4 border-[#268BD2]">
                    <h3 class="text-2xl font-bold mb-4 flex items-center"><span class="text-3xl mr-3">тЭдя╕П</span> ржкрзНрж░ржХрзГржд ржЗржмрж╛ржжрждржХрж╛рж░рзАрж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп</h3>
                    <ul class="space-y-3 list-inside list-disc">
                        <li><strong>ржЖрж▓рзНрж▓рж╛рж╣ржнрзАрждрж┐ (рждрж╛ржХржУржпрж╝рж╛):</strong> ржЧрзЛржкржирзЗ ржУ ржкрзНрж░ржХрж╛рж╢рзНржпрзЗ ржЖрж▓рзНрж▓рж╛рж╣ржХрзЗ ржнржпрж╝ ржХрж░рж╛, ржпрж╛ ржкрж╛ржк ржерзЗржХрзЗ рж░ржХрзНрж╖рж╛ ржХрж░рзЗред</li>
                        <li><strong>ржЗржмрж╛ржжрждрзЗ ржПржХржирж┐рж╖рзНржарждрж╛:</strong> ржлрж░ржЬ ржУ ржиржлрж▓рзЗ ржХржарзЛрж░ ржкрж░рж┐рж╢рзНрж░ржорзА, ржпрж╛ ржЖрждрзНржорж╛рж░ ржЦрзЛрж░рж╛ржХ ржЬрзЛржЧрж╛ржпрж╝ред</li>
                        <li><strong>ржХрзБрж░ржЖржирзЗрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ:</strong> ржХрзБрж░ржЖржиржХрзЗ ржЬрзАржмржирзЗрж░ рж╕ржВржмрж┐ржзрж╛ржи рж╣рж┐рж╕рзЗржмрзЗ ржЧрзНрж░рж╣ржг ржУ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи ржХрж░рж╛ред</li>
                        <li><strong>ржжрзБржирж┐ржпрж╝рж╛ржмрж┐ржорзБржЦрждрж╛:</strong> ржжрзБржирж┐ржпрж╝рж╛рж░ ржорзЛрж╣рзЗ ржЖржмржжрзНржз ржирж╛ рж╣ржпрж╝рзЗ ржЕрж▓рзНржкрзЗ рждрзБрж╖рзНржЯ ржерж╛ржХрж╛ред</li>
                    </ul>
                </div>
                <div class="bg-[#FEFBF3] p-6 rounded-lg shadow-md border-t-4 border-[#cb4b16]">
                     <h3 class="text-2xl font-bold mb-4 flex items-center"><span class="text-3xl mr-3">ЁЯТФ</span> ржХржарж┐ржи рж╣рзГржжржпрж╝рзЗрж░ рж▓ржХрзНрж╖ржг</h3>
                    <ul class="space-y-3 list-inside list-disc">
                        <li><strong>ржжрзБржирж┐ржпрж╝рж╛рж░ ржкрзНрж░рждрж┐ ржЕрждрж┐ ржнрж╛рж▓рзЛржмрж╛рж╕рж╛:</strong> ржЕрж░рзНрже, ржЦрзНржпрж╛рждрж┐ ржУ ржорж░рзНржпрж╛ржжрж╛ржХрзЗ ржЬрзАржмржирзЗрж░ ржорзВрж▓ рж▓ржХрзНрж╖рзНржп ржмрж╛ржирж╛ржирзЛред</li>
                        <li><strong>ржЕрж╣рзЗрждрзБржХ ржмрзНржпрж╕рзНрждрждрж╛:</strong> ржорзЛржмрж╛ржЗрж▓ ржУ рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐ржпрж╝рж╛ржпрж╝ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзНржорж░ржг ржерзЗржХрзЗ ржЧрж╛ржлрзЗрж▓ ржерж╛ржХрж╛ред</li>
                        <li><strong>ржкрж╛ржкрзЗрж░ ржкрзНрж░ржнрж╛ржм:</strong> ржЫрзЛржЯ-ржмржбрж╝ ржкрж╛ржкрзЗ рж▓рж┐ржкрзНржд рж╣ржпрж╝рзЗ ржЗржмрж╛ржжрждрзЗрж░ рж╕рзНржмрж╛ржж рж╣рж╛рж░рж┐ржпрж╝рзЗ ржлрзЗрж▓рж╛ред</li>
                        <li><strong>ржЗржмрж╛ржжрждрзЗ ржЙржжрж╛рж╕рзАржирждрж╛:</strong> ржХрзБрж░ржЖржи ржкрж╛ржа ржУ ржиржлрж▓ ржЗржмрж╛ржжрждрзЗ ржоржи ржирж╛ ржмрж╕рж╛ред</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- рж╕ржВржХржЯ Section -->
        <section id="crisis" class="py-12 md:py-16 bg-white/50 rounded-xl">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 text-[#002b36]">ржмрж░рзНрждржорж╛ржи рж╕ржВржХржЯ: ржПржХржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="p-4">
                    <h3 class="text-2xl font-semibold text-center mb-4">рж╣рзГржжржпрж╝рзЗрж░ ржХрж╛ржарж┐ржирзНржпрзЗрж░ ржХрж╛рж░ржг</h3>
                    <p class="text-center mb-4 text-sm">ржЖржзрзБржирж┐ржХ ржЬрзАржмржирзЗ ржмрж┐ржнрж┐ржирзНржи ржХрж╛рж░ржг ржЖржорж╛ржжрзЗрж░ ржЕржирзНрждрж░ржХрзЗ ржЖрж▓рзНрж▓рж╛рж╣рзНтАМрж░ рж╕рзНржорж░ржг ржерзЗржХрзЗ ржжрзВрж░рзЗ рж╕рж░рж┐рзЯрзЗ ржжрж┐ржЪрзНржЫрзЗред ржПржЗ ржЪрж╛рж░рзНржЯржЯрж┐ ржкрзНрж░ржзрж╛ржи ржХрж╛рж░ржгржЧрзБрж▓рзЛрж░ ржЖржирзБржкрж╛рждрж┐ржХ рж╣рж╛рж░ ржжрзЗржЦрж╛ржЪрзНржЫрзЗред</p>
                    <div class="chart-container">
                        <canvas id="crisisCauseChart"></canvas>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="text-2xl font-semibold text-center mb-4">ржЬрзАржмржирзЗрж░ ржЕржЧрзНрж░рж╛ржзрж┐ржХрж╛рж░рзЗрж░ рж▓ржбрж╝рж╛ржЗ</h3>
                    <p class="text-center mb-4 text-sm">ржПржХржЬржи ржЗржмрж╛ржжрждржХрж╛рж░рзА ржУ ржПржХржЬржи ржЙржжрж╛рж╕рзАржи ржмрзНржпржХрзНрждрж┐рж░ ржоржирзЛржпрзЛржЧрзЗрж░ ржХрзЗржирзНржжрзНрж░ржмрж┐ржирзНржжрзБ рж╕ржорзНржкрзВрж░рзНржг ржнрж┐ржирзНржиред рждрж╛ржжрзЗрж░ ржЕржЧрзНрж░рж╛ржзрж┐ржХрж╛рж░рзЗрж░ рждрзБрж▓ржирж╛ржорзВрж▓ржХ ржЪрж┐рждрзНрж░ред</p>
                    <div class="chart-container">
                        <canvas id="prioritiesChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- ржЙрждрзНрждрж░ржгрзЗрж░ ржкрже Section -->
        <section id="revival" class="py-12 md:py-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[#002b36]">ржЕржирзНрждрж░ржХрзЗ ржирж░ржо ржХрж░рж╛рж░ ржЙржкрж╛ржпрж╝</h2>
            <p class="text-center max-w-2xl mx-auto mb-10">рж╣рзГржжржпрж╝рзЗрж░ ржХрж╛ржарж┐ржирзНржп ржерзЗржХрзЗ ржорзБржХрзНрждрж┐ ржкрж╛ржУржпрж╝рж╛ рж╕ржорзНржнржмред ржирж┐ржЪрзЗрж░ ржзрж╛ржкржЧрзБрж▓рзЛрждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирзБржиред</p>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8">
                <div class="step-card text-center p-4 bg-white rounded-lg shadow-sm" data-step="1">
                    <div class="text-4xl mb-2">ЁЯУЦ</div><h4 class="font-bold">ржХрзБрж░ржЖржи</h4>
                </div>
                <div class="step-card text-center p-4 bg-white rounded-lg shadow-sm" data-step="2">
                    <div class="text-4xl mb-2">ЁЯЩП</div><h4 class="font-bold">ржиржлрж▓ ржЗржмрж╛ржжржд</h4>
                </div>
                <div class="step-card text-center p-4 bg-white rounded-lg shadow-sm" data-step="3">
                    <div class="text-4xl mb-2">ЁЯУ┐</div><h4 class="font-bold">ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЬрж┐ржХрж┐рж░</h4>
                </div>
                <div class="step-card text-center p-4 bg-white rounded-lg shadow-sm" data-step="4">
                    <div class="text-4xl mb-2">ЁЯдЭ</div><h4 class="font-bold">рж╕рзОрж╕ржЩрзНржЧ</h4>
                </div>
                <div class="step-card text-center p-4 bg-white rounded-lg shadow-sm" data-step="5">
                    <div class="text-4xl mb-2">тЪ░я╕П</div><h4 class="font-bold">ржорзГрждрзНржпрзБ рж╕рзНржорж░ржг</h4>
                </div>
            </div>

            <div id="stepDetails" class="bg-[#FEFBF3] p-6 rounded-lg shadow-inner min-h-[150px] flex items-center justify-center transition-all duration-500">
                <p class="text-lg text-center text-[#657b83]">ржПржХржЯрж┐ ржзрж╛ржк ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</p>
            </div>
        </section>

        <!-- Daily Reflection Section -->
        <section id="reflection" class="py-12 md:py-16 bg-white/50 rounded-xl">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[#002b36]">ржжрзИржирж┐ржХ ржЖржзрзНржпрж╛рждрзНржорж┐ржХ ржкрзНрж░рждрж┐ржлрж▓ржи</h2>
            <p class="text-center max-w-2xl mx-auto mb-8">ржкрзНрж░рждрж┐ржжрж┐ржи ржПржХржЯрж┐ ржирждрзБржи ржЪрж┐ржирзНрждрж╛рж░ ржЦрзЛрж░рж╛ржХ ржкрзЗрждрзЗ ржирж┐ржЪрзЗрж░ ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред ржПржЯрж┐ ржЖржкржирж╛ржХрзЗ ржЖрждрзНржо-ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржУ ржХрзГрждржЬрзНржЮ рж╣рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗред</p>
            <div class="text-center mb-8">
                <button id="getReflectionBtn" class="bg-[#2aa198] text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-[#20837b] transition duration-300">
                    тЬи ржирждрзБржи ржкрзНрж░рж╢рзНржи рждрзИрж░рж┐ ржХрж░рзБржи
                </button>
            </div>
            <div id="reflectionResult" class="bg-[#FEFBF3] p-6 rounded-lg shadow-inner min-h-[100px] flex items-center justify-center">
                 <p class="text-lg text-center text-[#657b83]">ржПржЦрж╛ржирзЗ ржЖржкржирж╛рж░ ржЖржЬржХрзЗрж░ ржкрзНрж░рж╢рзНржиржЯрж┐ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ...</p>
            </div>
        </section>
        
        <!-- Dua Generator Section -->
        <section id="dua" class="py-12 md:py-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[#002b36]">ржмрзНржпржХрзНрждрж┐ржЧржд ржжрзЛрзЯрж╛ ржЬрзЗржирж╛рж░рзЗржЯрж░</h2>
            <p class="text-center max-w-2xl mx-auto mb-8">ржЖржкржирж╛рж░ ржоржирзЗрж░ ржЕржмрж╕рзНржерж╛ ржмрж╛ ржкрзНрж░ржпрж╝рзЛржЬржи рж╕ржорзНржкрж░рзНржХрзЗ рж╕ржВржХрзНрж╖рзЗржкрзЗ рж▓рж┐ржЦрзБржи (ржпрзЗржоржи: "ржЖржорж┐ ржЙржжрзНржмрж┐ржЧрзНржи" ржмрж╛ "ржХрзГрждржЬрзНржЮрждрж╛ ржкрзНрж░ржХрж╛рж╢ ржХрж░рждрзЗ ржЪрж╛ржЗ")ред ржПржЯрж┐ ржЖржкржирж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ рж╕рзБржирзНржжрж░ ржУ ржмрзНржпржХрзНрждрж┐ржЧржд ржжрзЛржпрж╝рж╛ рждрзИрж░рж┐ ржХрж░ржмрзЗред</p>
            <div class="max-w-xl mx-auto">
                <textarea id="duaInput" class="w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#268BD2] focus:border-transparent transition" rows="3" placeholder="ржЖржкржирж╛рж░ ржЕржирзБржнрзВрждрж┐ ржПржЦрж╛ржирзЗ рж▓рж┐ржЦрзБржи..."></textarea>
                <div class="text-center mt-4">
                     <button id="getDuaBtn" class="bg-[#268BD2] text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-[#1e6a9e] transition duration-300">
                        тЬи ржЖржорж╛рж░ ржЬржирзНржп ржжрзЛрзЯрж╛ рждрзИрж░рж┐ ржХрж░рзБржи
                    </button>
                </div>
            </div>
             <div id="duaResult" class="max-w-xl mx-auto bg-[#FEFBF3] mt-8 p-6 rounded-lg shadow-inner min-h-[150px] flex items-center justify-center">
                 <p class="text-lg text-center text-[#657b83]">ржЖржкржирж╛рж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржжрзЛржпрж╝рж╛ ржПржЦрж╛ржирзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ...</p>
            </div>
        </section>

        <!-- ржкрзНрж░ржнрж╛ржм Section -->
        <section id="impact" class="py-12 md:py-16 bg-white/50 rounded-xl">
             <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 text-[#002b36]">ржЗрждрж┐рж╣рж╛рж╕рзЗ ржЗржмрж╛ржжрждржХрж╛рж░рзАрж░ ржкрзНрж░ржнрж╛ржм</h2>
             <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                 <div class="bg-[#FEFBF3] p-6 rounded-lg shadow-md text-center">
                     <div class="text-5xl mb-4 text-[#859900]">ЁЯМЯ</div>
                     <h3 class="text-xl font-bold mb-2">ржЪрж╛рж░рж┐рждрзНрж░рж┐ржХ ржкрзНрж░ржнрж╛ржм</h3>
                     <p>рждрж╛ржжрзЗрж░ ржЙржирзНржиржд ржЪрж░рж┐рждрзНрж░, рж╕рждрждрж╛ ржУ ржирзНржпрж╛ржпрж╝ржкрж░рж╛ржпрж╝ржгрждрж╛ рж╕ржорж╛ржЬрзЗрж░ ржЬржирзНржп ржЖржжрж░рзНрж╢ рж╕рзНржерж╛ржкржи ржХрж░рзЗ ржПржмржВ ржЕржирзНржпржжрзЗрж░ ржЕржирзБржкрзНрж░рж╛ржгрж┐ржд ржХрж░рзЗред</p>
                 </div>
                 <div class="bg-[#FEFBF3] p-6 rounded-lg shadow-md text-center">
                    <div class="text-5xl mb-4 text-[#268BD2]">ЁЯзн</div>
                    <h3 class="text-xl font-bold mb-2">ржЖржзрзНржпрж╛рждрзНржорж┐ржХ ржирзЗрждрзГрждрзНржм</h3>
                    <p>рждрж╛ржжрзЗрж░ ржЬрзНржЮрж╛ржи ржУ ржкрзНрж░ржЬрзНржЮрж╛ ржорж╛ржирзБрж╖ржХрзЗ рж╕ржарж┐ржХ ржкрже ржжрзЗржЦрж╛ржпрж╝, ржпрж╛ рж╕ржнрзНржпрждрж╛ ржУ ржЬрзНржЮрж╛ржи-ржмрж┐ржЬрзНржЮрж╛ржирзЗрж░ ржнрж┐рждрзНрждрж┐ рж╕рзНржерж╛ржкржи ржХрж░рзЗред</p>
                </div>
                <div class="bg-[#FEFBF3] p-6 rounded-lg shadow-md text-center">
                    <div class="text-5xl mb-4 text-[#b58900]">тЬи</div>
                    <h3 class="text-xl font-bold mb-2">ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рж╛рж╣рж╛ржпрзНржп</h3>
                    <p>рждрж╛ржжрзЗрж░ ржжрзЛржпрж╝рж╛рж░ ржмрж░ржХрждрзЗ рж╕ржорж╛ржЬ ржмрж┐ржкржж-ржЖржкржж ржерзЗржХрзЗ рж░ржХрзНрж╖рж╛ ржкрж╛ржпрж╝ ржПржмржВ ржкрзГржерж┐ржмрзАрждрзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╣ржоржд ржмрж░рзНрж╖рж┐ржд рж╣ржпрж╝ред</p>
                </div>
             </div>
        </section>

    </main>

    <footer class="text-center mt-12 py-8 border-t border-[#93A1A1]/50">
        <p class="text-lg font-semibold text-[#002b36]">"рждрж╛рж░рж╛ржЗ рж╕рждрзНржпрж┐ржХрж╛рж░рзЗрж░ ржмрзБржжрзНржзрж┐ржорж╛ржи, ржпрж╛рж░рж╛ ржХрзНрж╖ржгрж╕рзНржерж╛ржпрж╝рзА ржжрзБржирж┐ржпрж╝рж╛рж░ ржмрж┐ржирж┐ржоржпрж╝рзЗ ржЪрж┐рж░рж╕рзНржерж╛ржпрж╝рзА ржЬрж╛ржирзНржирж╛рждржХрзЗ ржХрзНрж░ржпрж╝ ржХрж░рзЗ ржирзЗржпрж╝ред"</p>
        <p class="text-sm mt-2">"ржкрзНрж░ржХрзГржд ржЗржмрж╛ржжрждржХрж╛рж░рзА"</p>
    </footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Mobile Menu ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        mobileMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
                mobileMenu.classList.add('hidden');
            }
        });

        // --- Chart.js Configuration ---
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) { return label.join(' '); }
            return label;
        };
        const chartDefaultOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { labels: { color: '#586E75', font: { family: "'Hind Siliguri', sans-serif" } } },
                tooltip: { callbacks: { title: tooltipTitleCallback }, titleFont: { family: "'Hind Siliguri', sans-serif" }, bodyFont: { family: "'Hind Siliguri', sans-serif" }}
            }
        };

        const crisisCauseCtx = document.getElementById('crisisCauseChart')?.getContext('2d');
        if (crisisCauseCtx) {
            new Chart(crisisCauseCtx, {
                type: 'doughnut',
                data: { labels: ['ржжрзБржирж┐ржпрж╝рж╛рж░ ржкрзНрж░рждрж┐ ржнрж╛рж▓рзЛржмрж╛рж╕рж╛', 'ржЕрж╣рзЗрждрзБржХ ржмрзНржпрж╕рзНрждрждрж╛', 'ржкрж╛ржкрзЗрж░ ржкрзНрж░ржнрж╛ржм'], datasets: [{ data: [45, 35, 20], backgroundColor: ['#d33682', '#cb4b16', '#dc322f'], borderColor: '#FEFBF3', borderWidth: 3 }] },
                options: { ...chartDefaultOptions }
            });
        }
        
        const prioritiesCtx = document.getElementById('prioritiesChart')?.getContext('2d');
        if (prioritiesCtx) {
            new Chart(prioritiesCtx, {
                type: 'bar',
                data: { labels: ['ржЗржмрж╛ржжрждржХрж╛рж░рзА', 'ржЙржжрж╛рж╕рзАржи ржмрзНржпржХрзНрждрж┐'], datasets: [{ label: 'ржкрж░ржХрж╛рж▓рзЗрж░ ржЪрж┐ржирзНрждрж╛', data: [80, 20], backgroundColor: '#268BD2' }, { label: 'ржжрзБржирж┐ржпрж╝рж╛рж░ ржЪрж┐ржирзНрждрж╛', data: [20, 80], backgroundColor: '#859900' }] },
                options: { ...chartDefaultOptions, scales: { x: { stacked: true, ticks: { color: '#586E75' } }, y: { stacked: true, ticks: { callback: (value) => value + '%', color: '#586E75' } } }, indexAxis: 'y' }
            });
        }

        const stepCards = document.querySelectorAll('.step-card');
        const stepDetailsContainer = document.getElementById('stepDetails');
        const stepData = {
            1: { title: "ржХрзБрж░ржЖржирзЗрж░ ржжрж┐ржХрзЗ ржкрзНрж░рждрзНржпрж╛ржмрж░рзНрждржи", desc: "ржкрзНрж░рждрж┐ржжрж┐ржи ржЕрж░рзНрже ржУ рждрж╛ржлрж╕рж┐рж░рж╕рж╣ ржХрзБрж░ржЖржи ржкржбрж╝рзБржиред ржПржЯрж┐ ржЕржирзНрждрж░рзЗрж░ ржорж░рж┐ржЪрж╛ ржжрзВрж░ ржХрж░рж╛рж░ рж╢рзНрж░рзЗрж╖рзНржа ржФрж╖ржз ржПржмржВ ржЬрзАржмржирзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНрж╖рзЗрждрзНрж░рзЗ рж╕ржарж┐ржХ ржкржерзЗрж░ ржжрж┐рж╢рж╛рж░рзАред" },
            2: { title: "ржиржлрж▓ ржЗржмрж╛ржжрждрзЗрж░ ржЕржнрзНржпрж╛рж╕", desc: "ржлрж░ржЬ ржЗржмрж╛ржжрждрзЗрж░ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ ржЕрж▓рзНржк ржХрж░рзЗ рж╣рж▓рзЗржУ рждрж╛рж╣рж╛ржЬрзНржЬрзБржж, ржЗрж╢рж░рж╛ржХрзЗрж░ ржорждрзЛ ржиржлрж▓ ржЗржмрж╛ржжржд рж╢рзБрж░рзБ ржХрж░рзБржиред ржПржЗ ржЫрзЛржЯ ржЖржорж▓ржЧрзБрж▓рзЛржЗ ржЕржирзНрждрж░ржХрзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржирж┐ржХржЯржмрж░рзНрждрзА ржХрж░ржмрзЗред" },
            3: { title: "ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЬрж┐ржХрж┐рж░", desc: "рж╕рж░рзНржмржжрж╛ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзНржорж░ржгрзЗ (ржЬрж┐ржХрж┐рж░рзЗ) ржирж┐ржЬрзЗржХрзЗ ржмрзНржпрж╕рзНржд рж░рж╛ржЦрзБржиред рж╣рж╛ржБржЯрж╛-ржЪрж▓рж╛, ржХрж╛ржЬ-ржХрж░рзНржорзЗрж░ ржорж╛ржЭрзЗ ржЬрж┐ржХрж┐рж░ ржХрж░рзБржи, ржХрж╛рж░ржг ржПржЯрж┐ ржЕржирзНрждрж░ржХрзЗ рж╕ржЬрзАржм ржУ ржкрзНрж░рж╢рж╛ржирзНржд рж░рж╛ржЦрзЗред" },
            4: { title: "рж╕рзОрж╕ржЩрзНржЧ ржЕржмрж▓ржорзНржмржи", desc: "ржнрж╛рж▓рзЛ ржУ ржжрзНржмрзАржиржжрж╛рж░ ржорж╛ржирзБрж╖рзЗрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ ржмрж╛ржбрж╝рж╛ржиред рждрж╛ржжрзЗрж░ рж╕рж╛рж╣ржЪрж░рзНржп ржЖржкржирж╛ржХрзЗ ржЗржмрж╛ржжрждрзЗ ржЙрзОрж╕рж╛рж╣рж┐ржд ржХрж░ржмрзЗ ржПржмржВ ржжрзБржирж┐ржпрж╝рж╛рж░ ржорзЛрж╣ ржерзЗржХрзЗ ржжрзВрж░рзЗ рж░рж╛ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗред" },
            5: { title: "ржорзГрждрзНржпрзБржХрзЗ рж╕рзНржорж░ржг", desc: "ржкрзНрж░рждрж┐ржжрж┐ржи ржХрж┐ржЫрзБ рж╕ржоржпрж╝рзЗрж░ ржЬржирзНржп ржорзГрждрзНржпрзБржХрзЗ рж╕рзНржорж░ржг ржХрж░рзБржиред ржПржЗ ржЪрж┐ржирзНрждрж╛ ржЖржкржирж╛ржХрзЗ ржжрзБржирж┐ржпрж╝рж╛рж░ ржкрзНрж░рждрж┐ ржЙржжрж╛рж╕рзАржи ржХрж░рзЗ рждрзБрж▓ржмрзЗ ржПржмржВ ржкрж░ржХрж╛рж▓рзЗрж░ ржЬржирзНржп ржкрзНрж░рж╕рзНрждрзБрждрж┐ ржирж┐рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗред" }
        };

        stepCards.forEach(card => {
            card.addEventListener('click', () => {
                const stepId = card.dataset.step;
                const details = stepData[stepId];
                stepCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');
                stepDetailsContainer.innerHTML = `<div class="text-center"><h3 class="text-2xl font-bold text-[#268BD2] mb-2">${details.title}</h3><p class="text-lg text-[#586E75]">${details.desc}</p></div>`;
            });
        });
        
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav-link');
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });
            navLinks.forEach(link => {
                link.classList.remove('active-link');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active-link');
                }
            });
        });
        
        // --- Gemini API Integration ---
        const apiKey = "AIzaSyB7vTFSE73OGgheNWNE1sIH_YvUwtDnxIQ"; 
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

        async function callGemini(prompt) {
            const payload = {
                contents: [{
                    role: "user",
                    parts: [{ text: prompt }]
                }]
            };
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }
                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    return "ржжрзБржГржЦрж┐ржд, ржПржХржЯрж┐ рж╕ржорж╕рзНржпрж╛ рж╣рзЯрзЗржЫрзЗред ржжрзЯрж╛ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред";
                }
            } catch (error) {
                console.error("Gemini API Error:", error);
                return "рж╕ржВржпрзЛржЧ рж╕ржорж╕рзНржпрж╛ред ржжрзЯрж╛ ржХрж░рзЗ ржЖржкржирж╛рж░ ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж╕ржВржпрзЛржЧ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред";
            }
        }

        function showLoader(container) {
            container.innerHTML = '<div class="loader mx-auto"></div>';
        }

        // Daily Reflection Feature
        const getReflectionBtn = document.getElementById('getReflectionBtn');
        const reflectionResult = document.getElementById('reflectionResult');
        getReflectionBtn.addEventListener('click', async () => {
            showLoader(reflectionResult);
            const prompt = "You are a wise spiritual guide. Generate a single, concise, and thought-provoking question in the Bengali language for daily spiritual reflection. The question should encourage self-awareness, gratitude, and a connection with God based on Islamic principles.";
            const reflectionText = await callGemini(prompt);
            reflectionResult.innerHTML = `<p class="text-lg text-center text-[#586E75]">${reflectionText.replace(/\n/g, '<br>')}</p>`;
        });
        
        // Dua Generator Feature
        const getDuaBtn = document.getElementById('getDuaBtn');
        const duaInput = document.getElementById('duaInput');
        const duaResult = document.getElementById('duaResult');
        getDuaBtn.addEventListener('click', async () => {
            const userInput = duaInput.value.trim();
            if (!userInput) {
                duaResult.innerHTML = '<p class="text-lg text-center text-[#cb4b16]">ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржкржирж╛рж░ ржЕржирзБржнрзВрждрж┐ ржмрж╛ ржкрзНрж░ржпрж╝рзЛржЬржи рж▓рж┐ржЦрзБржиред</p>';
                return;
            }
            showLoader(duaResult);
            const prompt = `You are a compassionate Islamic scholar. A person is feeling or needs something related to: "${userInput}". Based on this, compose a beautiful, heartfelt, and personal dua (supplication) for them in the Bengali language. The dua should be respectful, encouraging, and based on Quranic and Prophetic traditions. Start with a short, compassionate opening and end with 'ржЖржорж┐ржи'.`;
            const duaText = await callGemini(prompt);
            duaResult.innerHTML = `<p class="text-lg text-left text-[#586E75] whitespace-pre-wrap">${duaText}</p>`;
        });

    });
</script>

</body>
</html>
